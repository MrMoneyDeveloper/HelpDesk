@model C8.eServices.Mvc.Models.OnboardingRequest
<!doctype html>
@{
    ViewBag.Title = "OnboardigRequest";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<html lang="en">
<head>
    <link href="~/assets/libs/jsvectormap/css/jsvectormap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />


    <link href="~/assets/libs/choices.js/public/assets/styles/choices.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/libs/flatpickr/flatpickr.min.css" rel="stylesheet">

    <!-- One of the following themes -->
    <link rel="stylesheet" href="~/assets/libs/simonwep/pickr/themes/classic.min.css" /> <!-- 'classic' theme -->
    <link rel="stylesheet" href="~/assets/libs/simonwep/pickr/themes/monolith.min.css" /> <!-- 'monolith' theme -->
    <link rel="stylesheet" href="~/assets/libs/simonwep/pickr/themes/nano.min.css" /> <!-- 'nano' theme -->
</head>
<body>
    <div class="main-content">

        <div class="page-content">
            <div class="container-fluid">

                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box d-flex align-items-center justify-content-between">
                            <h4 class="mb-0">Onboarding Request</h4>

                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Signup</a></li>
                                    <li class="breadcrumb-item active">Onboarding Request</li>
                                </ol>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- end page title -->

                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Onboarding Steps</h4>
                            </div><!-- end card header -->

                            @using (Html.BeginForm("Client", "Onboarding", FormMethod.Post, new { id = "companyForm" }))
                            {
                                @Html.AntiForgeryToken()
                                <input type="text" value="@Model.Id" hidden name="Id" />
                                <input type="text" value="@Model.key" hidden name="queueKey" />

                                <div class="card-body">
                                    <ul class="wizard-nav mb-5">
                                        <li class="wizard-list-item">
                                            <div class="list-item">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Company Details">
                                                    <i class="uil uil-clipboard-notes"></i>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="wizard-list-item">
                                            <div class="list-item">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Primary Contact Person">
                                                    <i class="uil uil-user-check"></i>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="wizard-list-item">
                                            <div class="list-item">
                                                <div class="step-icon" data-bs-toggle="tooltip" data-bs-placement="top" title="Client Onboarding">
                                                    <i class="uil uil-file-check-alt"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <ul class="wizard-nav mb-5">
                                        <li class="wizard-list-item">
                                            <div class="list-item">
                                                <!-- error message here -->
                                                <div class="alert alert-danger alert-top-border alert-dismissible fade show col-md-5" role="alert" style="margin-left:350px; display:none;" id="errorId">
                                                    <i class="uil uil-exclamation-octagon font-size-16 text-danger me-2"></i>
                                                    Please fill in all required fields.
                                                    <button type="button" onclick="addHidden()" class="btn-close" @*data-bs-dismiss="alert"*@ aria-label="Close"></button>
                                                </div>
                                                <!-- error message here 3nd -->
                                            </div>
                                        </li>


                                    </ul>
                                    <!-- wizard-nav -->
                                    <div class="wizard-tab">
                                        <div class="text-center mb-4">
                                            <h5>Company Details</h5>
                                            <p class="card-title-desc">Fill all information below</p>
                                        </div>
                                        <div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        @Html.LabelFor(model => model.CompanyName, "Company Name", htmlAttributes: new { @class = "control-label" })
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> corporate_fare</span>
                                                            @Html.EditorFor(model => model.CompanyName, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "CompanyId", @name = "CompanyName", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.CompanyName, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        @Html.LabelFor(model => model.VatNumber, "Vat Number", htmlAttributes: new { @class = "control-label" })
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> percent</span>
                                                            @Html.EditorFor(model => model.VatNumber, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "VatNoId", @name = "VatNumber", @readonly = "readonly" } })
                                                            @Html.ValidationMessageFor(model => model.VatNumber, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <br />

                                            <div class="row">
                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        @Html.LabelFor(model => model.CompanyDomain, "Company Domain", htmlAttributes: new { @class = "control-label" })
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> domain</span>
                                                            @Html.EditorFor(model => model.CompanyDomain, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "domainId", @name = "CompanyDomain", @readonly = "readonly" } })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.CompanyDomain, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>

                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        @Html.LabelFor(model => model.IndustryId, "Industry", htmlAttributes: new { @class = "control-label" })
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> warehouse</span>
                                                            @Html.DropDownListFor(model => model.IndustryId, (SelectList)ViewBag.industry, htmlAttributes: new { @class = "form-control", @required = "required", @Name = "IndustryId", @id = "industryId", @disabled = "disabled" })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.IndustryId, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>

                                                <div class="col-lg-4">
                                                    <div class="form-group">
                                                        @Html.LabelFor(model => model.CountryId, "Country", htmlAttributes: new { @class = "control-label" })
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> flag</span>
                                                            @Html.DropDownListFor(model => model.CountryId, (SelectList)ViewBag.country, htmlAttributes: new { @class = "form-control", @required = "required", @Name = "CountryId", @id = "countryId", @disabled = "disabled" })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.CountryId, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                            </div>



                                        </div>

                                    </div>
                                    <!-- wizard-tab -->

                                    <div class="wizard-tab">
                                        <div class="text-center mb-4">
                                            <h5>Primary Contact Person</h5>
                                            <p class="card-title-desc">Fill all information below</p>
                                        </div>
                                        <div>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">First name</label>
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> person</span>
                                                            @Html.EditorFor(model => model.FistName, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "firstnameId", @name = "FirtName", @readonly = "readonly" } })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.FistName, "", new { @class = "text-danger" })
                                                    </div>
                                                </div><!-- end col -->

                                                <div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Last Name</label>
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> group</span>
                                                            @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "lastnameId", @name = "LastName", @readonly = "readonly" } })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                    </div>

                                                </div><!-- end col -->
                                            </div><!-- end row -->

                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Phone</label>
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> call</span>
                                                            @Html.EditorFor(model => model.ContactNumber, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "contactId", @name = "ContactNumber", @readonly = "readonly" } })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.ContactNumber, "", new { @class = "text-danger" })
                                                    </div>

                                                </div><!-- end col -->

                                                <div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Email</label>
                                                        <div class="input-group">
                                                            <span class="input-group-text material-symbols-outlined"> mail</span>
                                                            @Html.EditorFor(model => model.EmailAddress, new { htmlAttributes = new { @class = "form-control", @required = "required", @id = "emailId", @name = "EmailAddress", @readonly = "readonly" } })
                                                        </div>
                                                        @Html.ValidationMessageFor(model => model.EmailAddress, "", new { @class = "text-danger" })
                                                    </div>

                                                </div><!-- end col -->
                                            </div><!-- end row -->
                                        </div>

                                    </div>

                                    <!-- wizard-tab -->

                                    <div class="wizard-tab">
                                        <div class="text-center mb-4">
                                            <h5>Client Onboarding</h5>
                                            <p class="card-title-desc">Fill all information below</p>
                                        </div>
                                        <div>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Approval Action</label>
                                                        @Html.DropDownList("actionkeys", null, "-- select option --", new { @class = "form-control", @required = "required", @Name = "approvalKey", @id = "approvalKeyId" })
                                                        @Html.ValidationMessage("actionkeys", "", new { @class = "text-danger" })
                                                    </div>
                                                </div><!-- end col -->
                                                <!--<div class="col-lg-6">
                                                    <div class="mb-3">
                                                        <label class="form-label">Last Name</label>
                                                        @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control", @required = "required", @Id = "lastnameId", @Name = "LastName" } })
                                                        @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>-->
                                                <!-- end col -->
                                            </div><!-- end row -->
                                        </div>

                                    </div>

                                    <div class="d-flex align-items-start gap-3 mt-4">
                                        <button type="button" class="btn btn-primary w-sm" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                                        <button type="button" class="btn btn-primary w-sm ms-auto" id="nextBtn" onclick="checkButtonLabel();">Next</button>
                                        <div style="display:none;">
                                            <input type="submit" onclick="validateForm()" id="idSubmitForm" />
                                        </div>

                                    </div>

                                </div>



                            }



                        </div>
                    </div><!-- end col -->
                </div><!-- end row -->

            </div> <!-- container-fluid -->
        </div>
    </div>

    <div class="rightbar-overlay"></div>
    <script src="~/assets/js/pages/form-wizard.init.js"></script>
    <script src="~/assets/js/pages/form-advanced.init.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</body>
</html>

<script>
    function addHidden() {
        debugger;
        /* $('#errorId').addClass('hidden');*/
        $('#errorId').css({
            'display': 'none',
            'margin-left': '350px'
        });
    }
    function validateForm() {
        debugger;
        const requiredFields = document.querySelectorAll('#companyForm input[required], #companyForm select[required]');

        // Check if all required fields have a value
        for (let i = 0; i < requiredFields.length; i++) {
            if (!requiredFields[i].value) {
                // Display an error message or perform any other necessary actions
                $('#errorId').css({
                    'display': 'block',
                    'margin-left': '350px'
                });
                /* alert('Please fill in all required fields.');*/
                //return false; // Prevent form submission
            }
        }
        debugger;
        //cvlick hidden submit

    }
    function checkButtonLabel() {
        debugger;
        // Get the button element
        const button = document.getElementById('nextBtn');

        // Get the label text of the button
        const buttonText = button.innerText || button.textContent;

        // Check if the button label equals "Submit"
        if (buttonText.trim().toLowerCase() === 'submit') {
            document.getElementById("idSubmitForm").click();
        } else {
            nextPrev(1);
        }
    }

</script>